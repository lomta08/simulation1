let timerInterval;
let timeLeft = 3 * 60 * 60; // 5 minutes


function startQuiz(withTimer) {
  document.getElementById("mode-selection").style.display = "none";
  const quizForm = document.getElementById("quizForm");
  quizForm.style.display = "block";

  if (withTimer) {
    document.getElementById("timer").style.display = "block";
    updateTimerDisplay();
    timerInterval = setInterval(() => {
      timeLeft--;
      updateTimerDisplay();
      if (timeLeft <= 0) {
        clearInterval(timerInterval);
        alert("·Éì·É†·Éù ·Éê·Éõ·Éù·Éò·É¨·É£·É†·Éê! ·É•·Éï·Éò·Éñ·Éò ·Éê·Éï·É¢·Éù·Éõ·Éê·É¢·É£·É†·Éê·Éì ·Éì·Éê·É°·É†·É£·Éö·Éì·Éê.");
        quizForm.requestSubmit(); // safely submits even if clicked from code
      }
    }, 1000);
  }
}

function updateTimerDisplay() {
    const hours = String(Math.floor(timeLeft / 3600)).padStart(2, "0");
    const minutes = String(Math.floor((timeLeft % 3600) / 60)).padStart(2, "0");
    const seconds = String(timeLeft % 60).padStart(2, "0");
    document.getElementById("time").textContent = `${hours}:${minutes}:${seconds}`;
}

const quizData = [
    {
        question: "·Éò·Éû·Éù·Éï·Éî·Éó \\( \\frac{A_{199}^4}{C_{199}^4} \\). (\\(P_n = n!\\), \\(A_n^k = \\frac{n!}{(n‚àík)!}\\), \\(C_n^k = \\frac{n!}{k!(n‚àík)!}\\))",
        options: ["$P_{199}$", "$\\frac{1}{ùëÉ_{199}}$", "$\\frac{ùëÉ_4}{ùëÉ_{199}}$", "$\\frac{ùëÉ_{199}}{ùëÉ_4}$", "$ùëÉ_4$", "·Éß·Éï·Éî·Éö·Éê ·É¨·Éò·Éú·Éê ·Éû·Éê·É°·É£·ÉÆ·Éò ·Éõ·É™·Éì·Éê·É†·Éò·Éê"],
        correct: 4,
        tags: ["Combinatorics"]
      },
      {
        question: "·Éë·Éê·Éú·É•·Éù·É° ·Éì·Éê·É°·É¢·Éê·É®·Éò 52 ·Éë·Éê·É†·Éê·Éó·Éò·Éê, ·É†·Éù·Éõ·Éî·Éö·Éó·Éê·Éí·Éê·Éú ·Éñ·É£·É°·É¢·Éê·Éì 13 ·Éê·Éí·É£·É†·Éò·Éê. ·Éò·Éû·Éù·Éï·Éî·Éó ·Éê·Éö·Éë·Éê·Éó·Éù·Éë·Éê ·Éò·Éõ·Éò·É°·Éê, ·É†·Éù·Éõ ·Éê·Éõ ·Éì·Éê·É°·É¢·Éò·Éì·Éê·Éú ·É®·Éî·Éõ·Éó·ÉÆ·Éï·Éî·Éï·Éò·Éó ·É®·Éî·É†·É©·Éî·É£·Éö 13 ·Éë·Éê·É†·Éê·Éó·É®·Éò ·Éñ·É£·É°·É¢·Éê·Éì 12 ·Éê·Éí·É£·É†·Éò ·Éò·É•·Éú·Éî·Éë·Éê.",
        options: [
          "$\\frac{13\\cdot39}{C_{52}^{13}}$",
          "$\\frac{{13}^{4}}{C_{52}^{13}}$",
          "$\\frac{13}{C_{52}^{13}}$",
          "$\\frac{13\\cdot C_{39}^{12}}{C_{52}^{13}}$",
          "$\\frac{39}{C_{52}^{13}}$",
          "$\\frac{{13}^{12}}{C_{52}^{13}}$"
        ],
        correct: 0,
        tags: ["Probability"]
      },
      {
        question: "·Éò·Éû·Éù·Éï·Éî·Éó \\(x + y\\) ·ÉØ·Éê·Éõ·Éò·É° ·Éõ·Éê·É•·É°·Éò·Éõ·Éê·Éö·É£·É†·Éò ·É®·Éî·É°·Éê·É´·Éö·Éù ·Éõ·Éú·Éò·É®·Éï·Éú·Éî·Éö·Éù·Éë·Éê, ·Éó·É£ \\(x\\) ·Éì·Éê \\(y\\) ·Éê·Éô·Éõ·Éê·Éß·Éù·É§·Éò·Éö·Éî·Éë·Éî·Éú ·Éû·Éò·É†·Éù·Éë·Éî·Éë·É°  \\(2x + 3y \\leq 10\\) ·Éì·Éê \\(3x + 2y \\leq 10\\) ·Éû·Éò·É†·Éù·Éë·Éî·Éë·É°?",
        options: ["$2,5$", "$3$", "$3,5$", "$4$", "$4,5$", "$5$"],
        correct: 3,
        tags: ["Linear Programming"]
      },
      {
        question: "·É†·Éù·Éõ·Éî·Éö·Éò ·É§·É£·Éú·É•·É™·Éò·Éò·É° ·Éí·É†·Éê·É§·Éò·Éô·Éò·É° ·É¨·Éî·É†·É¢·Éò·Éö·Éî·Éë·É®·Éò ·Éê·Éò·É°·Éê·ÉÆ·Éî·Éë·Éê \\(y = (x - 1)^2 + 1\\) ·É§·É£·Éú·É•·É™·Éò·Éò·É° ·Éí·É†·Éê·É§·Éò·Éô·Éò·É° ·É¨·Éî·É†·É¢·Éò·Éö·Éî·Éë·Éò \\(Oy\\) ·É¶·Éî·É†·É´·Éò·É° ·Éõ·Éò·Éõ·Éê·É†·Éó ·É¶·Éî·É†·É´·É£·Éö·Éò ·É°·Éò·Éõ·Éî·É¢·É†·Éò·Éò·É°·Éê·É°?",
        options: [
          "$y = {x}^{2} ‚àí 2x + 1$",
          "$y = {x}^{2} + 2x + 1$",
          "$y = {x}^{2} + 1$",
          "$y = {(x + 1)}^{2} ‚àí 1$",
          "$y = {(x ‚àí 1)}^{2} ‚àí 1$",
          "$y = {(x + 1)}^{2} + 1$"
        ],
        correct: 5,
        tags: ["Functions", "Symmetry"]
      },
      {
        question: "\\(ùë®ùë©ùë™ùë´\\) ·É¢·É†·Éê·Éû·Éî·É™·Éò·Éò·É° \\(ùë®ùë´\\) ·É§·É£·É´·Éò·É° ·É°·Éò·Éí·É†·É´·Éî \\(ùë©ùë™\\) ·É§·É£·É´·Éò·É° ·É°·Éò·Éí·É†·É´·Éî·Éñ·Éî 2-·ÉØ·Éî·É† ·Éõ·Éî·É¢·Éò·Éê. ·É†·Éù·Éí·Éù·É† ·Éí·Éê·Éõ·Éù·Éò·É°·Éê·ÉÆ·Éî·Éë·Éê \\(\\vec{AD}\\) ·Éï·Éî·É•·É¢·Éù·É†·Éò \\( \\vec{AB}\\) = \\(\\vec{a}\\) ·Éì·Éê \\( \\vec{AC}\\) = \\(\\vec{b}\\) ·Éï·Éî·É•·É¢·Éù·É†·Éî·Éë·Éò·É° ·É°·Éê·É®·É£·Éê·Éö·Éî·Éë·Éò·Éó?",
        options: [
          "\\(\\vec{AD} = \\vec{a} + 2\\vec{b}\\)",
          "\\(\\vec{AD} = 2\\vec{b} - 2\\vec{a}\\)",
          "\\(\\vec{AD} = 2\\vec{a} + \\vec{b}\\)",
          "\\(\\vec{AD} = 4\\vec{b} - 3\\vec{a}\\)",    
          "\\(\\vec{AD} = \\vec{a} + \\vec{b}\\)",
          "\\(\\vec{AD} = 4\\vec{b} + 3\\vec{a}\\)"
        ],
        correct: 1,
        tags: ["Vectors"]
      },
      {
        question: "·Éò·Éû·Éù·Éï·Éî·Éó \\(\\sqrt{x} \\ge x\\) ·Éì·Éê \\(\\sqrt{x} \\le x\\) ·É£·É¢·Éù·Éö·Éù·Éë·Éî·Éë·Éò·É° ·Éê·Éõ·Éù·Éú·Éê·ÉÆ·É°·Éú·Éó·Éê ·É°·Éò·Éõ·É†·Éê·Éï·Éö·Éî·Éî·Éë·Éò·É° ·Éí·Éê·Éî·É†·Éó·Éò·Éê·Éú·Éî·Éë·Éê.",
        options: ["$‚àÖ$", "$[0; 2]$", "$[0;+\\infty)$", "$R\\backslash[0; 1]$", "$R\\backslash(0; 1)$", "$R$"],
        correct: 2,
        tags: ["Inequality"]
      },
      {
        question: `\\((x; y)\\) ·É¨·Éß·Éï·Éò·Éö·Éò \\(  
    \\begin{cases}
      sinx=0,5  \\\\
      cosx=0,5  \\\\
    \\end{cases}
  \\) ·É°·Éò·É°·É¢·Éî·Éõ·Éò·É° ·Éê·Éõ·Éù·Éú·Éê·ÉÆ·É°·Éú·Éò·Éê. ·Éò·Éû·Éù·Éï·Éî·Éó \\(xy\\) ·Éú·Éê·Éõ·É†·Éê·Éï·Éö·Éò·É° ·É£·Éõ·É™·Éò·É†·Éî·É°·Éò ·É®·Éî·É°·Éê·É´·Éö·Éù ·Éì·Éê·Éì·Éî·Éë·Éò·Éó·Éò ·Éõ·Éú·Éò·É®·Éï·Éú·Éî·Éö·Éù·Éë·Éê.`,
        options: ["$\\frac{1}{2}$", "$\\frac{\\pi^2}{18}$", "$\\frac{5}{9}$", "$\\frac{2\\pi}{9}$", "$\\frac{\\pi^2}{16}$", "$\\frac{\\pi\\sqrt{2}}{6}$"],
        correct: 1,
        tags: ["Trigonometry"]
      },
      {
        question: "·Éì·Éê·Éó·Éï·Éê·Éö·Éî·Éó ·É†·Éò·É°·Éò ·É¢·Éù·Éö·Éò·Éê \\((2a ‚àí 3b)^{10}\\) ·Éí·Éê·Éõ·Éù·É°·Éê·ÉÆ·É£·Éö·Éî·Éë·Éò·É° ·É°·É¢·Éê·Éú·Éì·Éê·É†·É¢·É£·Éö ·Éõ·É†·Éê·Éï·Éê·Éö·É¨·Éî·Éï·É†·Éê·Éì ·Éí·Éê·É†·Éì·Éê·É•·Éõ·Éú·Éò·É°·Éê·É° ·Éõ·Éò·É¶·Éî·Éë·É£·Éö·Éò ·Éõ·É†·Éê·Éï·Éê·Éö·É¨·Éî·Éï·É†·Éò·É° ·É†·Éò·É™·ÉÆ·Éï·Éò·Éó·Éò ·Éô·Éù·Éî·É§·Éò·É™·Éò·Éî·Éú·É¢·Éî·Éë·Éò·É° ·ÉØ·Éê·Éõ·Éò?",
        options: ["$1$", "$2$", "$3$", "$4$", "$5$", "$6$"],
        correct: 0,
        tags: ["Binomial Theorem"]
      },
      {
        question: "·É¨·Éî·É°·Éò·Éî·É†·Éò ·Éî·É•·Éï·É°·Éô·É£·Éó·ÉÆ·Éê ·Éû·Éò·É†·Éê·Éõ·Éò·Éì·Éò·É° ·É§·É£·É´·Éò·É° ·Éí·Éï·Éî·É†·Éì·Éò·É° ·É°·Éò·Éí·É†·É´·Éî 4-·Éò·É° ·É¢·Éù·Éö·Éò·Éê. ·Éí·Éê·Éï·Éö·Éî·Éë·É£·Éö·Éò·Éê ·É§·É£·É´·Éò·É° ·Éû·Éê·É†·Éê·Éö·Éî·Éö·É£·É†·Éò ·É°·Éò·Éë·É†·É¢·Éß·Éî, ·É†·Éù·Éõ·Éî·Éö·Éò·É™ ·Éî·É†·Éó-·Éî·É†·Éó ·Éí·Éï·Éî·É†·Éì·Éò·Éó ·É¨·Éò·Éë·Éù·É° ·É®·É£·Éê·É¨·Éî·É†·É¢·Éò·Éö·É®·Éò ·Éô·Éï·Éî·Éó·É°. ·Éò·Éû·Éù·Éï·Éî·Éó ·Éô·Éï·Éî·Éó·Éê·É®·Éò ·Éõ·Éò·É¶·Éî·Éë·É£·Éö·Éò ·Éõ·É†·Éê·Éï·Éê·Éö·Éô·É£·Éó·ÉÆ·Éî·Éì·Éò·É° ·É§·Éê·É†·Éó·Éù·Éë·Éò.",
        options: ["$4\\sqrt{2}$", "$4\\sqrt{3}$", "$6\\sqrt{2}$", "$6\\sqrt{3}$", "$8\\sqrt{2}$", "$8\\sqrt{3}$"],
        correct: 3,
        tags: ["Geometry", "Solids"]
      },
      {
        question: "·Éõ·Éù·É™·Éî·Éõ·É£·Éö·Éò·Éê \\(\\vec{a} = (2; 1; 0)\\) ·Éì·Éê \\(\\vec{b} = (1; ‚àí2; 3)\\) ·Éï·Éî·É•·É¢·Éù·É†·Éî·Éë·Éò. ·Éò·Éû·Éù·Éï·Éî·Éó \\(\\vec{a} \\times \\vec{b}\\) ·Éì·Éê \\(\\vec{b} \\times \\vec{a}\\) ·Éï·Éî·É•·É¢·Éù·É†·Éî·Éë·É° ·É®·Éù·É†·Éò·É° ·Éô·É£·Éó·ÉÆ·Éò·É° ·Éô·Éù·É°·Éò·Éú·É£·É°·Éò.",
        options: ["$‚àí1$", "‚àí\\(\\frac{\\sqrt{3}}{2}\\)", "‚àí\\(\\frac{\\sqrt{2}}{2}\\)", "‚àí\\(\\frac{1}{2}\\)", "\\(\\frac{1}{2}\\)", "\\(\\frac{\\sqrt{2}}{2}\\)"],
        correct: 0,
        tags: ["Vectors", "3D Geometry"]
      },
      {
        question: "·Éí·Éï·Éê·É•·Éï·É° ·É≠·Éò·Éô·Éê·É†·É¢·Éî·Éë·Éò·É° ·É°·Éê·Éõ·Éò ·Éß·É£·Éó·Éò. ·Éû·Éò·É†·Éï·Éî·Éö ·Éß·É£·Éó·É®·Éò ·Éê·É†·Éò·É° 15 ·É¨·Éò·Éó·Éî·Éö·Éò ·Éì·Éê 25 ·Éß·Éï·Éò·Éó·Éî·Éö·Éò ·É≠·Éò·Éô·Éê·É†·É¢·Éò. ·Éõ·Éî·Éù·É†·Éî·É®·Éò ·Éê·É†·Éò·É° 10 ·É¨·Éò·Éó·Éî·Éö·Éò ·Éì·Éê 10 ·Éß·Éï·Éò·Éó·Éî·Éö·Éò, ·ÉÆ·Éù·Éö·Éù ·Éõ·Éî·É°·Éê·Éõ·Éî·É®·Éò 15 ·É¨·Éò·Éó·Éî·Éö·Éò ·Éì·Éê 5 ·Éß·Éï·Éò·Éó·Éî·Éö·Éò ·É≠·Éò·Éô·Éê·É†·É¢·Éò. ·É®·Éî·Éõ·Éó·ÉÆ·Éï·Éî·Éï·Éò·Éó ·Éï·Éò·É†·É©·Éî·Éï ·Éß·É£·Éó·É° (·Éß·É£·Éó·Éî·Éë·Éò·É° ·Éê·É†·É©·Éî·Éï·Éê ·Éó·Éê·Éú·Éê·Éë·É†·Éê·Éì·Éê·Éê ·Éõ·Éù·É°·Éê·Éö·Éù·Éì·Éú·Éî·Éö·Éò) ·Éì·Éê ·É®·Éî·Éõ·Éó·ÉÆ·Éï·Éî·Éï·Éò·Éó ·Éï·Éò·É¶·Éî·Éë·Éó ·Éî·É†·Éó ·É≠·Éò·Éô·Éê·É†·É¢·É° ·Éß·É£·Éó·Éò·Éì·Éê·Éú. ·Éò·Éû·Éù·Éï·Éî·Éó ·Éê·Éö·Éë·Éê·Éó·Éù·Éë·Éê ·Éò·Éõ·Éò·É°·Éê, ·É†·Éù·Éõ ·Éê·Éõ·Éù·É¶·Éî·Éë·É£·Éö·Éò ·É≠·Éò·Éô·Éê·É†·É¢·Éò ·Éß·Éï·Éò·Éó·Éî·Éö·Éò ·Éê·É¶·Éõ·Éù·É©·Éú·Éì·Éî·Éë·Éê?",
        options: ["$\\frac{4}{7}$", "$\\frac{5}{18}$", "$\\frac{7}{15}$", "$\\frac{13}{27}$", "$\\frac{11}{24}$", "$\\frac{10}{21}$"],
        correct: 4,
        tags: ["Probability"]
      },
      {
        question: "·É†·Éê·Éõ·Éì·Éî·Éú·Éò ·Éí·Éê·Éú·É°·ÉÆ·Éï·Éê·Éï·Éî·Éë·É£·Éö·Éò ·É°·Éê·Éõ·Éú·Éò·É®·Éú·Éê ·É†·Éò·É™·ÉÆ·Éï·Éò ·Éê·É†·É°·Éî·Éë·Éù·Éë·É°, ·É†·Éù·Éõ·Éî·Éö·É®·Éò·É™ ·É™·Éò·É§·É†·Éî·Éë·Éò ·Éê·É† ·Éõ·Éî·Éù·É†·Éì·Éî·Éë·Éê ·Éì·Éê ·É™·Éò·É§·É†·Éî·Éë·Éò ·Éô·Éö·Éî·Éë·Éê·Éì·Éù·Éë·Éò·Éó·Éê·Éê ·Éì·Éê·Éö·Éê·Éí·Éî·Éë·É£·Éö·Éò? (·Éõ·Éù·Éõ·Éì·Éî·Éï·Éú·Éù ·É™·Éò·É§·É†·Éò ·É¨·Éò·Éú·Éê·Éñ·Éî ·Éú·Éê·Éô·Éö·Éî·Éë·Éò·Éê)",
        options: ["$504$", "$120$", "$144$", "$78$", "$88$", "$96$"],
        correct: 1,
        tags: ["Combinatorics"]
      },
      {
        question: "·É°·É¢·Éê·Éú·Éì·Éê·É†·É¢·É£·Éö ·É°·Éê·Éó·Éê·Éõ·Éê·É®·Éù ·Éô·Éê·Éõ·Éê·Éó·Éî·Éö·É° ·Éê·Éí·Éù·É†·Éî·Éë·Éî·Éú 7-·ÉØ·Éî·É†. ·Éì·Éê·Éó·Éï·Éê·Éö·Éî·Éó ·É†·Éò·É°·Éò ·É¢·Éù·Éö·Éò·Éê ·Éê·Éö·Éë·Éê·Éó·Éù·Éë·Éê ·Éò·Éõ·Éò·É°·Éê, ·É†·Éù·Éõ ·Éñ·É£·É°·É¢·Éê·Éì 4-·ÉØ·Éî·É† ·Éõ·Éù·Éï·Éê ·É†·Éò·É™·ÉÆ·Éï·Éò ,,3‚Äô‚Äô?",
        options: ["$\\frac{{5}^{4}}{{6}^{7}}$", "$\\frac{7 \\cdot {5}^{4}}{{6}^{7}}$", "$\\frac{2 \\cdot {5}^{3}}{{6}^{7}}$", "$\\frac{2 \\cdot {5}^{4}}{{6}^{7}}$", "$\\frac{2 \\cdot {5}^{5}}{{6}^{7}}$", "$\\frac{{5}^{5}}{{6}^{7}}$"],
        correct: 1,
        tags: ["Probability"]
      },
      {
        question: "ùüèùüêùüé¬∞-·Éò·Éê·Éú·Éò ·Éù·É†·É¨·Éê·ÉÆ·Éú·Éê·Éí·Éê ·Éô·É£·Éó·ÉÆ·Éò·É° ·É°·ÉÆ·Éï·Éê·Éì·Éê·É°·ÉÆ·Éï·Éê ·É¨·Éê·ÉÆ·Éú·Éê·Éí·Éî·Éë·Éñ·Éî ·Éê·É¶·Éî·Éë·É£·Éö·Éò \\(A\\) ·Éì·Éê \\(B\\) ·É¨·Éî·É†·É¢·Éò·Éö·Éî·Éë·Éò·Éì·Éê·Éú ·É¨·Éò·Éë·Éù·Éñ·Éî ·Éì·Éê·É®·Éï·Éî·Éë·É£·Éö·Éò ·Éõ·Éê·É†·Éó·Éù·Éë·Éî·Éë·Éò·É° ·É°·Éò·Éí·É†·É´·Éî·Éî·Éë·Éò·Éê \\(AA_1=a\\)  ·Éì·Éê \\(BB_1=b\\) . ·Éò·Éû·Éù·Éï·Éî·Éó \\(AB\\) ·Éõ·Éù·Éú·Éê·Éô·Éï·Éî·Éó·Éò·É° ·É°·Éò·Éí·É†·É´·Éî, ·Éó·É£ \\(A_1B_1=c\\) .",
        options: [
          "$\\frac{a + b + 2c}{4}$",
          "$\\frac{a + b + 2c}{3}$",
          "$\\frac{a + b + 2c}{2}$",
          "$\\sqrt{a^2 + b^2 + c^2 + ab}$",
          "$\\sqrt{(a + b)^2 + c^2}$",
          "$\\sqrt{a^2 + b^2 + c^2}$"
        ],
        correct: 3,
        tags: ["Geometry"]
      },
      {
        question: "·É°·Éê·Éõ·Éô·É£·Éó·ÉÆ·Éê ·Éû·Éò·É†·Éê·Éõ·Éò·Éì·Éò·É° ·Éù·É†·Éò ·É¨·Éê·ÉÆ·Éú·Éê·Éí·Éò 1-·Éò·É° ·É¢·Éù·Éö·Éò ·Éí·Éï·Éî·É†·Éì·Éò·É° ·Éõ·É•·Éù·Éú·Éî ·É¨·Éî·É°·Éò·Éî·É†·Éò ·É°·Éê·Éõ·Éô·É£·Éó·ÉÆ·Éî·Éì·Éò·Éê ·Éì·Éê ·Éê·Éõ ·É°·Éê·Éõ·Éô·É£·Éó·ÉÆ·Éî·Éì·Éî·Éë·Éò·É° ·É°·Éò·Éë·É†·É¢·Éß·Éî·Éî·Éë·Éò ·É£·É†·Éó·Éò·Éî·É†·Éó·Éõ·Éê·É†·Éó·Éù·Éë·É£·Éö·Éò·Éê. ·Éò·Éû·Éù·Éï·Éî·Éó ·Éê·Éõ ·Éû·Éò·É†·Éê·Éõ·Éò·Éì·Éò·É° ·É£·Éì·Éò·Éì·Éî·É°·Éò ·É¨·Éò·Éë·Éù·É° ·É°·Éò·Éí·É†·É´·Éî.",
        options: ["$\\frac{\\sqrt{5}}{2}$", "$\\frac{\\sqrt{6}}{2}$", "$\\frac{\\sqrt{7}}{2}$", "$\\sqrt{2}$", "$\\frac{3}{2}$", "$\\frac{\\sqrt{10}}{2}$"],
        correct: 1,
        tags: ["Solid Geometry"]
      },
      {
        question: "·É©·Éê·Éõ·Éù·Éó·Éï·Éö·Éò·Éö·Éó·Éê·Éí·Éê·Éú ·É†·Éù·Éõ·Éö·Éò·É° ·É¢·Éù·Éö·Éò·Éê \\(\\sin^2 \\alpha - \\sin^2 \\beta\\) ·Éí·Éê·Éõ·Éù·É°·Éê·ÉÆ·É£·Éö·Éî·Éë·Éò·É° ·Éõ·Éú·Éò·É®·Éï·Éú·Éî·Éö·Éù·Éë·Éê, \\(\\alpha\\) ·Éì·Éê \\(\\beta\\) ·É™·Éï·Éö·Éê·Éì·Éî·Éë·Éò·É° ·Éß·Éï·Éî·Éö·Éê ·Éõ·Éú·Éò·É®·Éï·Éú·Éî·Éö·Éù·Éë·Éò·É°·Éê·Éó·Éï·Éò·É°?",
        options: [
          "$\\sin^2(\\alpha + \\beta) + \\sin^2(\\alpha - \\beta)$",
          "$\\sin^2(\\alpha + \\beta) \\cdot \\sin^2(\\alpha - \\beta)$",
          "$\\sin(\\alpha + \\beta) + \\sin(\\alpha - \\beta)$",
          "$\\sin(\\alpha + \\beta) \\cdot \\sin(\\alpha - \\beta)$",
          "$\\sin^2 \\alpha + \\sin^2 \\beta$",
          "$\\sin^2 \\alpha \\cdot \\sin^2 \\beta$"
        ],
        correct: 3,
        tags: ["Trig Identities"]
      },
      {
        question: "·Éõ·Éê·É†·Éó·Éô·É£·Éó·ÉÆ·Éê ·É°·Éê·Éô·Éù·Éù·É†·Éì·Éò·Éú·Éê·É¢·Éù ·É°·Éò·Éë·É†·É¢·Éß·Éî·Éñ·Éî ·Éõ·Éù·É™·Éî·Éõ·É£·Éö·Éò·Éê \\(A(\\cos x; \\sin x)\\) ·Éì·Éê \\(B(\\cos(x + \\frac{\\pi}{2}); \\sin(x + \\frac{\\pi}{2}))\\) ·É¨·Éî·É†·É¢·Éò·Éö·Éî·Éë·Éò. ·Éú·Éî·Éë·Éò·É°·Éõ·Éò·Éî·É†·Éò \\(x\\) ·É™·Éï·Éö·Éê·Éì·Éò·É°·Éó·Éï·Éò·É° ·Éò·Éû·Éù·Éï·Éî·Éó \\(AB\\) ·Éõ·Éù·Éú·Éê·Éô·Éï·Éî·Éó·Éò·É° ·É°·Éò·Éí·É†·É´·Éî.",
        options: [
          "$\\sqrt{2 - 2\\sin x}$",
          "$\\sqrt{(\\sin x - \\cos x)^2}$",
          "$2|\\cos x - \\sin x|$",
          "4",
          "1",
          "$\\sqrt{2}$"
        ],
        correct: 5,
        tags: ["Coordinate Geometry", "Trig"]
      },
      {
        question: "·Éò·Éû·Éù·Éï·Éî·Éó \\(\\frac{1 + \\sin 2\\alpha}{\\cos 2\\alpha}\\) ·Éí·Éê·Éõ·Éù·É°·Éê·ÉÆ·É£·Éö·Éî·Éë·Éò·É° ·Éõ·Éú·Éò·É®·Éï·Éú·Éî·Éö·Éù·Éë·Éê, ·Éó·É£ \\(\\tan(\\alpha + 45^\\circ) = 6\\).",
        options: ["$3$", "$2$", "$4$", "$9$", "$6$", "$12$"],
        correct: 4,
        tags: ["Trig", "Identities"]
      },
      {
        question: "·Éû·Éò·É†·Éê·Éõ·Éò·Éì·Éò·É° ·É§·É£·É´·Éî ·É¨·Éî·É°·Éò·Éî·É†·Éò ·ÉÆ·É£·Éó·Éô·É£·Éó·ÉÆ·Éî·Éì·Éò·Éê. ·Éê·Éõ ·Éû·Éò·É†·Éê·Éõ·Éò·Éì·Éò·É° ·ÉÆ·É£·Éó·Éò ·Éì·Éò·Éê·Éí·Éù·Éú·Éê·Éö·É£·É†·Éò ·Éô·Éï·Éî·Éó·Éò·Éì·Éê·Éú, ·É†·Éê ·É£·Éì·Éò·Éì·Éî·É°·Éò ·É†·Éê·Éù·Éì·Éî·Éú·Éù·Éë·Éê ·É®·Éî·Éò·É´·Éö·Éî·Éë·Éê ·Éò·Éß·Éù·É° ·Éû·Éò·É†·Éê·Éõ·Éò·Éì·Éò·É° ·É§·É£·É´·Éò·É° ·Éõ·Éê·É†·Éó·Éù·Éë·É£·Éö·Éò? (·Éû·Éò·É†·Éê·Éõ·Éò·Éì·Éê ·Éê·É£·É™·Éò·Éö·Éî·Éë·Éö·Éê·Éì ·É¨·Éî·É°·Éò·Éî·É†·Éò ·Éê·É† ·Éê·É†·Éò·É°)",
        options: ["·Éê·É†·É™·Éî·É†·Éó·Éò", "·Éî·É†·Éó·Éò", "·Éù·É†·Éò", "·É°·Éê·Éõ·Éò", "·Éù·Éó·ÉÆ·Éò", "·ÉÆ·É£·Éó·Éò"],
        correct: 2,
        tags: ["Solid Geometry", "Planes"]
      },
      {
        question: "·É°·Éò·Éë·É†·É¢·Éß·Éî·Éñ·Éî ·Éê·É†·Éê·Éõ·Éì·Éî·Éë·Éê·É†·Éî \\(A\\) ·É¨·Éî·É†·É¢·Éò·Éö·Éò·Éì·Éê·Éú ·Éí·Éê·Éï·Éö·Éî·Éë·É£·Éö·Éò·Éê ·É°·Éò·Éë·É†·É¢·Éß·Éò·É°·Éê·Éì·Éõ·Éò \\(\\alpha\\) ·Éô·É£·Éó·ÉÆ·Éò·Éó ·Éì·Éê·ÉÆ·É†·Éò·Éö·Éò ·Éù·É†·Éò ·É¢·Éù·Éö·Éò \\(AB\\) ·Éì·Éê \\(AC\\) ·Éì·Éê·ÉÆ·É†·Éò·Éö·Éò ·Éì·Éê ·Éí·Éê·Éï·Éö·Éî·Éë·É£·Éö·Éò·Éê \\(AO\\) ·Éõ·Éê·É†·Éó·Éù·Éë·Éò. ·Éò·Éû·Éù·Éï·Éî·Éó ·Éô·É£·Éó·ÉÆ·Éî \\(BAC\\)  ·Éô·Éù·É°·Éò·Éú·É£·É°·Éò, ·Éó·É£ \\(‚à†BOC= 90¬∞\\) .",
        options: ["\\(\\sin^2 \\alpha\\)", "\\(\\cos^2 \\alpha\\)", "\\(\\tan^2 \\alpha\\)", "\\(\\cot^2 \\alpha\\)", "\\(\\sin \\alpha\\)", "\\(\\cos \\alpha\\)"],
        correct: 0,
        tags: ["3D Geometry", "Trig"]
      },
      {
        question: "\\(f(x) = \\arcsin x + \\arccos x\\) ·É§·É£·Éú·É•·É™·Éò·Éò·É° ·Éí·Éê·Éú·É°·Éê·Éñ·É¶·Éï·É†·Éò·É° ·Éê·É†·Éò·Éì·Éê·Éú ·Éê·Éò·É¶·Éî·É° ·Éù·É†·Éò \\(a\\) ·Éì·Éê \\(b\\) ·É†·Éò·É™·ÉÆ·Éï·Éò, ·ÉÆ·Éù·Éö·Éù ·Éõ·Éú·Éò·É®·Éï·Éú·Éî·Éö·Éù·Éë·Éê·Éó·Éê ·É°·Éò·Éõ·É†·Éê·Éï·Éö·Éò·Éì·Éê·Éú ·Éî·É†·Éó·Éò \\(c\\) ·É†·Éò·É™·ÉÆ·Éï·Éò. ·Éê·É¶·Éõ·Éù·É©·Éú·Éì·Éê, ·É†·Éù·Éõ \\(a\\), \\(b\\) ·Éì·Éê \\(c\\) ·É†·Éò·É™·ÉÆ·Éï·Éî·Éë·Éò ·É†·Éê·É¶·Éê·É™ ·Éó·Éê·Éú·Éõ·Éò·Éõ·Éì·Éî·Éï·É†·Éù·Éë·Éò·Éó ·Éê·É†·Éò·Éó·Éõ·Éî·É¢·Éò·Éô·É£·Éö ·Éû·É†·Éù·Éí·É†·Éî·É°·Éò·Éê·É° ·Éê·Éì·Éí·Éî·Éú·Éî·Éú. ·Éò·Éû·Éù·Éï·Éî·Éó \\(a\\) ·Éì·Éê \\(b\\) ·É†·Éò·É™·ÉÆ·Éï·Éî·Éë·É° ·É®·Éù·É†·Éò·É° ·É£·Éõ·É™·Éò·É†·Éî·É°·Éò·É° ·É£·Éì·Éò·Éì·Éî·É°·Éò ·É®·Éî·É°·Éê·É´·Éö·Éù ·Éõ·Éú·Éò·É®·Éï·Éú·Éî·Éö·Éù·Éë·Éê.",
        options: ["$\\frac{2}{3}$", "$\\frac{2}{\\pi}$", "$\\frac{4 - \\pi}{2}$", "$\\frac{3}{4}$", "$\\frac{\\pi - 3}{\\pi}$", "$\\frac{\\pi}{4}$"],
        correct: 2,
        tags: ["Functions", "Arcsin", "Arccos"]
      },
      {
        question: "·Éò·Éû·Éù·Éï·Éî·Éó \\(a\\) ·Éû·Éê·É†·Éê·Éõ·Éî·É¢·É†·Éò·É° ·Éß·Éï·Éî·Éö·Éê ·Éò·Éõ ·Éì·Éê·Éì·Éî·Éë·Éò·Éó·Éò ·Éõ·Éú·Éò·É®·Éï·Éú·Éî·Éö·Éù·Éë·Éê·Éó·Éê ·É°·Éò·Éõ·É†·Éê·Éï·Éö·Éî, ·É†·Éù·Éõ·Éî·Éö·Éó·Éê·Éó·Éï·Éò·É°·Éê·É™ \\(f(x) = (a ‚àí 2)\\sin x + (a ‚àí 1)\\cos x\\) ·É§·É£·Éú·É•·É™·Éò·Éò·É° ·Éõ·Éú·Éò·É®·Éï·Éú·Éî·Éö·Éù·Éë·Éê·Éó·Éê ·É°·Éò·Éõ·É†·Éê·Éï·Éö·Éî·Éê \\([‚àía; a]\\) ·É®·É£·Éê·Éö·Éî·Éì·Éò.",
        options: ["\\(\\text{{1, 3}}\\)", "\\(\\text{{1, 5}}\\)", "\\(\\text{{3, 5}}\\)", "\\(\\text{{1}}\\)", "\\(\\text{{3}}\\)", "\\(\\text{{5}}\\)"],
        correct: 1,
        tags: ["Trig", "Parameters"]
      },
      {
        question: "·Éò·Éû·Éù·Éï·Éî·Éó a ·Éû·Éê·É†·Éê·Éõ·Éî·É¢·É†·Éò·É° ·Éß·Éï·Éî·Éö·Éê ·Éò·Éõ ·Éõ·Éú·Éò·É®·Éï·Éú·Éî·Éö·Éù·Éë·Éê·Éó·Éê ·É°·Éò·Éõ·É†·Éê·Éï·Éö·Éî, ·É†·Éù·Éõ·Éî·Éö·Éó·Éê·Éó·Éï·Éò·É°·Éê·É™ \\(\\sin x = a\\) ·Éí·Éê·Éú·É¢·Éù·Éö·Éî·Éë·Éê·É° ·Éê·É•·Éï·É° ·Éê·Éõ·Éù·Éú·Éê·ÉÆ·É°·Éú·Éò ·Éì·Éê ·Éõ·Éò·É°·Éò ·Éß·Éï·Éî·Éö·Éê ·Éê·Éõ·Éù·Éú·Éê·ÉÆ·É°·Éú·Éò ·Éî·Éô·É£·Éó·Éï·Éú·Éò·É° \\(f(x) = \\cos x\\) ·É§·É£·Éú·É•·É™·Éò·Éò·É° ·Éô·Éö·Éî·Éë·Éê·Éì·Éù·Éë·Éò·É° ·É®·É£·Éê·Éö·Éî·Éì·É°.",
        options: ["\\([‚àí1;\\frac{1}{2}]\\)", "\\([‚àí1;‚àí\\frac{1}{2}]\\)", "\\([‚àí\\frac{1}{2}; 1]\\)", "\\([0;\\frac{1}{2}]\\)", "\\([0; 1]\\)", "\\([\\frac{1}{2}; 1]\\)"],
        correct: 4,
        tags: ["Trig", "Domain"]
      },
      {
        question: "·Éõ·É†·Éê·Éï·Éê·Éö·É¨·Éê·ÉÆ·Éú·Éê·Éí·Éê·É° 14 ·É¨·Éê·ÉÆ·Éú·Éê·Éí·Éò ·Éì·Éê 36 ·É¨·Éò·Éë·Éù ·Éê·É•·Éï·É°. ·É†·Éê·Éõ·Éì·Éî·Éú·Éò ·É¨·Éï·Éî·É†·Éù ·Éê·É•·Éï·É° ·Éê·Éõ ·Éõ·É†·Éê·Éï·Éê·Éö·É¨·Éê·ÉÆ·Éú·Éê·Éí·Éê·É°?",
        options: ["$18$", "$20$", "$28$", "$26$", "$12$", "$24$"],
        correct: 5,
        tags: ["Polyhedra", "Euler's Formula"]
      },
      {
        question: "·Éõ·Éù·É™·Éî·Éõ·É£·Éö·Éò·Éê \\(ABCDA_1B_1C_1D_1\\) ·Éì·Éê·ÉÆ·É†·Éò·Éö·Éò ·Éû·Éê·É†·Éê·Éö·Éî·Éö·Éî·Éû·Éò·Éû·Éî·Éì·Éò. ·É°·Éò·Éï·É†·É™·Éò·É° ·É†·Éê·Éõ·Éì·Éî·Éú·Éò ·Éò·É°·Éî·Éó·Éò \\(O\\) ·É¨·Éî·É†·É¢·Éò·Éö·Éò ·Éê·É†·É°·Éî·Éë·Éù·Éë·É°, ·É†·Éù·Éõ·Éö·Éò·É°·Éó·Éï·Éò·É°·Éê·É™ ·É°·Éê·Éõ·Éê·É†·Éó·Éö·Éò·Éê·Éú·Éò·Éê \\(\\vec{OA} + \\vec{OB} + \\vec{OC} + \\vec{OD} + \\vec{OA_1} + \\vec{OB_1} + \\vec{OC_1} + \\vec{OD_1} = \\vec{0}\\) ·É¢·Éù·Éö·Éù·Éë·Éê.",
        options: ["·Éê·É†·É™·Éî·É†·Éó·Éò", "·Éî·É†·Éó·Éò", "·Éù·É†·Éò", "·Éù·Éó·ÉÆ·Éò", "·É†·Éï·Éê", "·É†·Éï·Éê·Éñ·Éî ·Éõ·Éî·É¢·Éò"],
        correct: 1,
        tags: ["Vectors", "3D Geometry"]
      }         
  ];
  
  const form = document.getElementById("quizForm");
  
  quizData.forEach((q, i) => {
    const fieldset = document.createElement("fieldset");
    const legend = document.createElement("legend");
    legend.innerHTML = `<strong>${i + 1}.</strong><br>${q.question}`;
    fieldset.appendChild(legend);
  
    q.options.forEach((opt, j) => {
      const label = document.createElement("label");
      const radio = document.createElement("input");
      radio.type = "radio";
      radio.name = `question${i}`;
      radio.value = j;
      label.appendChild(radio);
      label.append(` ${opt}`);
      fieldset.appendChild(label);
    });
  
    form.insertBefore(fieldset, form.querySelector("button"));
  });
  
  form.addEventListener("submit", function (e) {
    e.preventDefault();
    
    if (timerInterval) {
      clearInterval(timerInterval);
    }
    
    let score = 0;
    const result = document.getElementById("result");
    result.innerHTML = "";
  
    const tagStats = {};
  
    quizData.forEach((q, i) => {
      const answer = form.querySelector(`input[name="question${i}"]:checked`);
      const fieldset = form.querySelectorAll("fieldset")[i];
      const explanation = document.createElement("div");
  
      const isCorrect = answer && parseInt(answer.value) === q.correct;
      if (isCorrect) score++;
      explanation.innerHTML = isCorrect
        ? `<span style="color: green;">Correct ‚úîÔ∏è</span>`
        : `<span style="color: red;">Wrong ‚ùå</span> ‚Äì Correct answer: <strong>${q.options[q.correct]}</strong>`;
      q.tags.forEach(tag => {
        if (!tagStats[tag]) tagStats[tag] = { correct: 0, total: 0 };
        tagStats[tag].total++;
        if (isCorrect) tagStats[tag].correct++;
      });
  
      explanation.style.marginTop = "8px";
      fieldset.appendChild(explanation);
    });
  
    result.innerHTML = `<strong>Total Score: ${score} / ${quizData.length}</strong><br><h3>Score by Topic:</h3>`;
    for (let tag in tagStats) {
      const { correct, total } = tagStats[tag];
      const percentage = ((correct / total) * 100).toFixed(1);
      result.innerHTML += `<p>${tag}: ${correct} / ${total} (${percentage}%)</p>`;
    }
  
    form.querySelector("button").disabled = true;
  
    // Re-render math after result is shown
    if (window.MathJax) MathJax.typeset();
  });
  